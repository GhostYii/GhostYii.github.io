---
layout: post
title: "特殊矩阵的压缩存储"
image: ''
date:  2017-09-06 00:00:00
tags:
- 笔记
description: ''
categories:
- 数据结构
---
<center>[注：本文来源于2018年数据结构考研复习指导 - 王道论坛·组编]  </center>
<br/>

本文简单探讨如何将矩阵更有效地存储在内容中，并能够方便读取矩阵中的元素。  

### 数据结构  
本文使用数组作为主要存储结构。首先了解数组的概念：  
> 数组是由n(n≥1)个相同类型的数据元素构成的有限序列，每个数据元素称为一个数组元素，每个元素受n个线性关系的约束，每个元素在n个线性关系中的序号称为该元素的下标，并称该元素为n元数组。  

数组与线性表的关系：数组是线性表的推广，一维数组可以看作一个线性表；二维数组可以看作元素是线性表的线性表，依次类推。数组一旦被定义，它的维数和维界就不会再改变。因此，数组只有存取元素和修改元素的操作。

### 存储结构
以一维数组A[0…n-1]为例，其存储结构关系式为：  
<center>LOC(ai)=LOC(a0)+(i)×L (0≤i＜n)</center>
其中，L是每个数组元素所占的存储单元。

对于多维数组，有两种映射方法：**按行优先**和**按列优先**。  
以二维数组为例，按照按行优先存储基本思想是：先行后列，先存储行号较小的元素，行号相等先存储列号较小的元素。设二维数组的行下标和列下标的范围分别为[l1, h1]和[l1, h2]，则存储结构关系式为：
<center>LOC(a[i][j]) = LOC(a[l1][l2])+[(i-l1)×(h2-l2+1)+(j-l2)]×L</center>
特别的，如果l1和l2均为0，则上式变为
<center>LOC(a[i][j]) = LOC(a[0][0])+[i×(h2+1)+j]×L</center>

同理，按列优先的方式存储时，得出存储结构关系式为
<center>LOC(a[i][j]) = LOC(a[l1][l2])+[(j-l2)×(h1-l1+1)+(i-l1)]×L</center>

### 矩阵的压缩存储
压缩存储：指多个值相同的元素只分配一个存储空间，**对零元素不分配存储空间**。  
特殊矩阵：本文只讨论对称阵、上（下）三角阵和对角阵。  
特殊矩阵的压缩存储方法：找出特殊矩阵中值相同的矩阵元素的分布规律，把呈现规律性分布的值相同的多个矩阵元素压缩存储到一个存储空间中。

#### 对称阵
基本思路是将对称阵划分为上下三角区域，由于上下三角区域完全对称，所以只需要一半的存储空间。问题在于如何方便取出对应元素的值。  
先明确对称阵A(n×n)存放于一维数组B[n(n+1)/2]中，即元素a[i][j]存放在B[k]中，**只存放主对角线和下三角区的元素**。
在数组B中，位于元素a[i][j]前面的元素个数为：  
第1行： 1个元素（a[1][1]）  
第2行： 2个元素（a[2][1],a[2][2]）  
……  
第i-1行： i-1个元素  
第i行：j-1个元素。  
所以元素a[i][j]在数组B中的下标k=1+2+...+(i-1)+j